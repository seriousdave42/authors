(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,a){e.exports=a(50)},25:function(e,t,a){},32:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),u=(a(25),a(3)),l=(a(32),a(5)),i=a(1),s=a(4),h=a.n(s),m=function(e){var t=e.initialAuthor,a=e.authorHandler,o=e.errors,c=Object(n.useState)(t.authorName),u=Object(i.a)(c,2),l=u[0],s=u[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({authorName:l}),s("")}},o.map((function(e,t){return r.a.createElement("p",{key:t},e)})),r.a.createElement("p",null,r.a.createElement("label",null,"Name "),r.a.createElement("input",{type:"text",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("input",{type:"submit",value:"Submit"})))},f=function(e){var t=e.authorID,a=e.successCallback;return r.a.createElement("button",{onClick:function(e){h.a.delete("http://localhost:8000/api/author/"+t).then((function(e){return a()})).catch((function(e){return console.log(e)}))}},"Delete")},p=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Author List"),r.a.createElement("ul",{style:{width:"200px",margin:"auto"}},e.authors.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(u.a,{to:"/author/".concat(t._id)},t.authorName),r.a.createElement(f,{authorID:t._id,successCallback:function(){return e.removeFromDOM(t._id)}}))}))))},E=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],f=u[1],E=Object(n.useState)([]),b=Object(i.a)(E,2),d=b[0],O=b[1];Object(n.useEffect)((function(){h.a.get("http://localhost:8000/api/authors").then((function(e){o(e.data.authors),f(!0)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Favorite Authors"),r.a.createElement(m,{initialAuthor:{authorName:""},authorHandler:function(e){h.a.post("http://localhost:8000/api/author",e).then((function(e){o([].concat(Object(l.a)(a),[e.data.author]).sort((function(e,t){return e.authorName>t.authorName?1:-1}))),O([])})).catch((function(e){for(var t=e.response.data.errors,a=[],n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];a.push(t[o].message)}O(a)}))},errors:d}),r.a.createElement("hr",null),s&&r.a.createElement(p,{authors:a,removeFromDOM:function(e){o(a.filter((function(t){return t._id!==e})))}}))},b=function(e){var t=e.quoteHandler,a=e.errors,o=Object(n.useState)(""),c=Object(i.a)(o,2),u=c[0],l=c[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u),l("")}},a.map((function(e,t){return r.a.createElement("p",{key:t},e)})),r.a.createElement("p",null,r.a.createElement("label",null,"Add a Quote: "),r.a.createElement("input",{type:"text",value:u,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Submit"}))))},d=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),p=m[0],E=m[1],d=Object(n.useState)([]),O=Object(i.a)(d,2),j=O[0],v=O[1],g=Object(n.useState)([]),S=Object(i.a)(g,2),k=S[0],y=S[1],N=Object(n.useState)(!1),w=Object(i.a)(N,2),D=w[0],A=w[1];Object(n.useEffect)((function(){h.a.get("http://localhost:8000/api/author/"+e.id).then((function(e){c(e.data.author),v(e.data.author.authorQuotes),E(!0)})).catch((function(e){console.log(e),A(!0)}))}),[e.id]);return r.a.createElement("div",null,D&&r.a.createElement("div",null,r.a.createElement("h3",null,"We're sorry, this author page doesn't exist"),r.a.createElement(u.a,{to:"/"},"Home")),!D&&r.a.createElement("div",null,r.a.createElement("h2",null,o.authorName),r.a.createElement(u.a,{to:"/author/"+o._id+"/update"},"Update"),r.a.createElement("br",null),r.a.createElement(f,{authorID:o._id,successCallback:function(){return Object(u.c)("/")}}),r.a.createElement("hr",null),r.a.createElement("h3",null,"Quotes"),r.a.createElement(b,{initialAuthor:o,errors:k,quoteHandler:function(t){h.a.put("http://localhost:8000/api/author/"+e.id,{authorName:o.authorName,authorQuotes:[].concat(Object(l.a)(j),[t])}).then((function(e){console.log("Response: ",e),v([].concat(Object(l.a)(j),[e.data.author.authorQuotes[e.data.author.authorQuotes.length-1]]))})).catch((function(e){console.log("Error: ",e);for(var t=e.response.data.errors,a=[],n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];a.push(t[o].message)}y(a)}))}}),p&&r.a.createElement("ul",{style:{width:"200px",margin:"auto"}},j.map((function(t,a){return r.a.createElement("li",{key:a},'"',t,'"',r.a.createElement("button",{onClick:function(t){return function(t,a){h.a.put("http://localhost:8000/api/author/"+e.id,{authorName:o.authorName,authorQuotes:[].concat(Object(l.a)(j.slice(0,a)),Object(l.a)(j.slice(a+1)))}).then((function(e){console.log("Response: ",e),v(e.data.author.authorQuotes)})).catch((function(e){console.log("Error: ",e)}))}(0,a)}},"Delete"))}))),r.a.createElement("hr",null),r.a.createElement(u.a,{to:"/"},"Back to Home")))},O=a(19),j=function(e){var t=e.id,a=Object(n.useState)({}),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!1),f=Object(i.a)(s,2),p=f[0],E=f[1],b=Object(n.useState)([]),d=Object(i.a)(b,2),j=d[0],v=d[1],g=Object(n.useState)(!1),S=Object(i.a)(g,2),k=S[0],y=S[1];Object(n.useEffect)((function(){h.a.get("http://localhost:8000/api/author/"+t).then((function(e){l(Object(O.a)({},e.data.author)),E(!0)})).catch((function(e){console.log(e),y(!0)}))}),[t]);return r.a.createElement("div",null,k&&r.a.createElement("div",null,r.a.createElement("h3",null,"We're sorry, this author page doesn't exist"),r.a.createElement(u.a,{to:"/"},"Home")),p&&r.a.createElement(m,{initialAuthor:c,authorHandler:function(e){h.a.put("http://localhost:8000/api/author/"+t,e).then((function(e){console.log("Response: ",e),Object(u.c)("/author/"+t)})).catch((function(e){for(var t=e.response.data.errors,a=[],n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];a.push(t[o].message)}v(a)}))},errors:j}))};var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.b,null,r.a.createElement(E,{path:"/"}),r.a.createElement(d,{path:"/author/:id"}),r.a.createElement(j,{path:"author/:id/update"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.f19ee0e5.chunk.js.map